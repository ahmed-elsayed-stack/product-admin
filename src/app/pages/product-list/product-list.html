<div class="p-6">
  <h1 class="text-3xl font-bold mb-6">Products</h1>

  <!-- Search and Filter -->
  <div class="flex flex-col md:flex-row gap-4 mb-6">
    <!-- Search Box -->
    <div class="flex-1">
      <input
        type="text"
        placeholder="Search products..."
        [value]="searchQuery()"
        (input)="onSearch($any($event.target).value)"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
    </div>

    <!-- Category Filter -->
    <div class="w-full md:w-64">
      <select  aria-label="State"
        [value]="selectedCategory()"
        (change)="onCategoryChange($any($event.target).value)"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        @for (category of categories; track category) {
          <option [value]="category">{{ category }}</option>
        }
      </select>
    </div>
  </div>

  <!-- Products Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8">
    @for (product of paginatedProducts(); track product.id) {
      <app-product-card
        [product]="product"
        (deleteProduct)="onDeleteProduct($event)"
      ></app-product-card> <!-- ✅ غير لـ closing tag -->
    } @empty {
      <div class="col-span-full text-center py-8 text-gray-500">
        No products found
      </div>
    }
  </div>

  <!-- Pagination Component -->
  <app-pagination
    [currentPage]="currentPage()"
    [totalPages]="totalPages()"
    (pageChange)="onPageChange($event)"
  ></app-pagination> <!-- ✅ غير لـ closing tag -->
</div>
